(let ()
  (import (chicken load))
  (load-verbose #f)
  (import (chicken format))
  (import (chicken process-context))
  (unless (get-environment-variable "INSIDE_EMACS")
    (import (prefix breadline "rl-"))
    (import (prefix breadline-scheme-completion "rl-"))
    (rl-history-file (format "~a/.csi_history" (get-environment-variable "HOME")))
    (rl-stifle-history! 10000)
    (rl-completer-word-break-characters-set! "\"\'`;|(")
    (rl-completer-set! rl-scheme-completer)
    (rl-basic-quote-characters-set! "\"|")
    (rl-variable-bind! "blink-matching-paren" "on")
    (rl-paren-blink-timeout-set! 200000)
    (current-input-port (rl-make-readline-port))))
